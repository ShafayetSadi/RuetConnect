{% load humanize %}
<div class="card bg-base-100 border border-base-300 shadow-sm hover:border-base-400 transition">
  <div class="card-body py-3 px-4">
    <div class="flex items-start justify-between gap-3">
      <div class="min-w-0 flex-1">
        <a href="{% url 'post-detail' slug=post.slug %}" class="block">
          <h3 class="text-sm md:text-base font-semibold leading-snug line-clamp-2">{{ post.title }}</h3>
        </a>
        <div class="mt-1 flex flex-wrap items-center gap-x-2 gap-y-1 text-[11px] md:text-xs text-base-content/60">
          <a href="{% url 'thread-detail' thread_name=post.thread.slug %}" class="link link-hover">r/{{ post.thread.title }}</a>
          <span>•</span>
          <a href="{% url 'user-detail' username=post.author.username %}" class="link link-secondary">u/{{ post.author }}</a>
          <span>•</span>
          <span>{{ post.created_at|naturaltime }}</span>
          {% if post.comments.count %}
          <span>• {{ post.comments.count }} comment{{ post.comments.count|pluralize }}</span>
          {% endif %}
        </div>
      </div>
      <a href="{% url 'post-detail' slug=post.slug %}" class="btn btn-xs btn-outline whitespace-nowrap">Open</a>
    </div>
  </div>
</div>
