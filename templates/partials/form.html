{% load form_helpers %} {% form_helper as helper %}

<!-- Non-field errors (form-level errors) -->
{% if form.non_field_errors %}
<div class="alert alert-error mb-4">
    <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" />
    </svg>
    <div>
        {% for error in form.non_field_errors %}
        <div>{{ error }}</div>
        {% endfor %}
    </div>
</div>
{% endif %}

<form
    method="post"
    action="{% if action_url %}{% if slug %}{% url action_url slug=slug %}{% elif pk %}{% url action_url pk %}{% else %}{% url action_url %}{% endif %}{% endif %}"
    enctype="multipart/form-data"
    class="space-y-1"
>
    {% csrf_token %}
    
    {% for field in form %}
        {% render_field field %}
    {% endfor %}

    <button type="submit" class="{{ helper.get_button_class }}">
        <span>{{ submit_text }}</span>
    </button>
</form>
