{% extends "base.html" %} {% block content %} {% load humanize %} {% load static %}
<!-- Thread Header -->
<div class="card bg-base-100 overflow-hidden shadow-md">
    <!-- Banner -->
    <div class="from-primary to-secondary h-36 bg-gradient-to-r opacity-20"></div>

    <!-- Thread Info -->
    <div class="card-body">
        <div class="flex items-center gap-4">
            <div class="avatar">
                <div class="ring-primary ring-offset-base-100 h-20 w-20 rounded-full ring ring-offset-2">
                    <img src="{% static 'images/thread.jpg' %}" alt="Thread avatar" />
                </div>
            </div>
            <div>
                <h1 class="text-3xl font-bold">r/{{ thread.title }}</h1>
                {% if thread.description %}
                <p class="text-base-content/70 mt-2">{{ thread.description }}</p>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<div class="divider"></div>

<!-- Posts List -->
<div class="space-y-4">
    {% for post in thread.posts.all %} {% include 'posts/post_card.html' %} {% empty %}
    <div class="card bg-base-100 shadow-md">
        <div class="card-body text-center">
            <p class="text-base-content/60">No posts in this thread yet.</p>
            <a href="{% url 'thread-join' thread_name=thread.slug %}" class="btn btn-primary mt-4">Join thread to post</a>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock content %} {% block right_bar_content %}

<!-- Right Sidebar -->
<h3 class="card-title mb-4 text-lg">About r/{{ thread.title }}</h3>

{% if thread.description %}
<p class="text-base-content/70 mb-4 text-sm">{{ thread.description }}</p>
{% endif %}

<div class="divider"></div>

<!-- Stats -->
<div class="stats stats-vertical">
    <div class="stat">
        <div class="stat-title">Members</div>
        <div class="stat-value text-primary">1</div>
    </div>
    <div class="stat">
        <div class="stat-title">Online</div>
        <div class="stat-value text-secondary">1</div>
    </div>
    <div class="stat">
        <div class="stat-title">Posts</div>
        <div class="stat-value text-accent">{{ thread.posts.count }}</div>
    </div>
</div>

<div class="divider"></div>

<!-- Rules -->
<div class="mb-4">
    <h4 class="mb-2 font-semibold">Rules</h4>
    <ul class="text-base-content/70 list-inside list-disc space-y-1 text-sm">
        <li>Be respectful</li>
        <li>Stay on topic</li>
        <li>No spam</li>
    </ul>
</div>

<div class="divider"></div>

<!-- Moderators -->
<div>
    <h4 class="mb-2 font-semibold">Moderators</h4>
    <div class="flex items-center gap-2">
        <div class="avatar">
            <div class="h-6 w-6 rounded-full">
                <img src="{% static 'images/thread.jpg' %}" alt="Moderator" />
            </div>
        </div>
        <span class="text-sm">u/{{ thread.created_by.username }}</span>
    </div>
</div>
{% endblock right_bar_content %}
